import{B as n}from"./index.js";class i extends n{title="batchprocess.envelopeNormalize";summary="envelope:エンベロープ正規化";process(o){return super.process(o)}_process(o){const t=o.map(e=>e.deepCopy());return t.forEach(e=>{if(e.envelope===void 0||e.lyric==="R")return;const p=e.envelope.point.reduce((r,s)=>r+s,0);if(p<=e.outputMs)return;const c=e.outputMs/p;e.envelope.point.forEach((r,s,a)=>{a[s]=r*c})}),t}}export{i as EnvelopeNormalizeBatchProcess};
