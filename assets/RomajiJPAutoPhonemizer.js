import{JPAutoPhonemizer as l}from"./JPAutoPhonemizer.js";import"./index.js";const r=/^([^ぁ-んァ-ヶ]*)([ぁ-んァ-ヶ]+)([^ ]*)$/,c=/[-aiuron] ([ぁ-んァ-ヶ]+)/,y=/[あかさたなはまやらわがざだばぱぁゃゎアカサタナハマヤラワガザダバパァャヮ]$/,h=/[いきしちにひみゐりぎじぢびぴぃイキシチニヒミヰリギジヂビピィ]$/,i=/[うくすつぬふむゆるぅゅぐずづぶぷウクスツヌフムユルゥグズヅブプヴゥュ]$/,p=/[えけせてねへめゑれぇげぜでべぺエケセテネヘメヱレェゲゼデベペ]$/,f=/[おこそとのほもよろをごぞどぼぽぉょオコソトノホモヨロヲゴゾドボポォョ]$/,g=/ん$/,v=[{consonant:"k",cvs:["k","か","く","け","こ"],type:"stretch",lengthValue:100,crossfade:!1},{consonant:"ky",cvs:["ky","きゃ","き","きゅ","きぇ","きょ"],type:"stretch",lengthValue:130,crossfade:!1},{consonant:"s",cvs:["s","さ","すぃ","す","せ","そ"],type:"preutter",lengthValue:150,crossfade:!0},{consonant:"sh",cvs:["sh","しゃ","し","しゅ","しぇ","しょ"],type:"preutter",lengthValue:200,crossfade:!0},{consonant:"t",cvs:["t","た","とぅ","て","と"],type:"stretch",lengthValue:100,crossfade:!1},{consonant:"ty",cvs:["ty","てゃ","てぃ","てゅ","てぇ","てょ"],type:"stretch",lengthValue:75,crossfade:!1},{consonant:"ch",cvs:["ch","ちゃ","ち","ちゅ","ちぇ","ちょ"],type:"preutter",lengthValue:150,crossfade:!1},{consonant:"ts",cvs:["ts","つ","つぁ","つぃ","つぇ","つぉ"],type:"preutter",lengthValue:170,crossfade:!1},{consonant:"n",cvs:["n","な","ぬ","ね","の"],type:"preutter",lengthValue:70,crossfade:!0},{consonant:"ny",cvs:["ny","にゃ","に","にゅ","にぇ","にょ"],type:"preutter",lengthValue:70,crossfade:!0},{consonant:"h",cvs:["h","は","へ","ほ"],type:"preutter",lengthValue:110,crossfade:!0},{consonant:"hy",cvs:["hy","ひゃ","ひ","ひゅ","ひぇ","ひょ"],type:"preutter",lengthValue:100,crossfade:!0},{consonant:"f",cvs:["f","ふぁ","ふ","ふぃ","ふぇ","ふぉ"],type:"preutter",lengthValue:130,crossfade:!0},{consonant:"m",cvs:["m","ま","む","め","も"],type:"preutter",lengthValue:75,crossfade:!0},{consonant:"my",cvs:["my","みゃ","み","みゅ","みぇ","みょ"],type:"preutter",lengthValue:60,crossfade:!0},{consonant:"y",cvs:["y","や","ゆ","いぇ","よ","いぃ"],type:"preutter",lengthValue:30,crossfade:!0},{consonant:"r",cvs:["r","ら","る","れ","ろ"],type:"preutter",lengthValue:70,crossfade:!0},{consonant:"ry",cvs:["ry","りゃ","り","りゅ","りぇ","りょ"],type:"preutter",lengthValue:70,crossfade:!0},{consonant:"w",cvs:["w","わ","を","うぃ","うぇ","うぉ"],type:"preutter",lengthValue:50,crossfade:!0},{consonant:"g",cvs:["g","が","ぐ","げ","ご"],type:"stretch",lengthValue:80,crossfade:!1},{consonant:"gy",cvs:["gy","ぎゃ","ぎ","ぎゅ","ぎぇ","ぎょ"],type:"stretch",lengthValue:60,crossfade:!1},{consonant:"z",cvs:["z","ざ","ずぃ","ず","ぜ","ぞ"],type:"preutter",lengthValue:80,crossfade:!0},{consonant:"j",cvs:["j","じゃ","じ","じゅ","じぇ","じょ"],type:"preutter",lengthValue:110,crossfade:!0},{consonant:"d",cvs:["d","だ","どぅ","で","ど"],type:"stretch",lengthValue:60,crossfade:!1},{consonant:"dy",cvs:["dy","でゃ","でぃ","でゅ","でぇ","でょ"],type:"stretch",lengthValue:75,crossfade:!1},{consonant:"b",cvs:["b","ば","ぶ","べ","ぼ"],type:"stretch",lengthValue:50,crossfade:!1},{consonant:"by",cvs:["by","びゃ","び","びゅ","びぇ","びょ"],type:"stretch",lengthValue:45,crossfade:!1},{consonant:"p",cvs:["p","ぱ","ぷ","ぺ","ぽ"],type:"stretch",lengthValue:100,crossfade:!1},{consonant:"py",cvs:["py","ぴゃ","ぴ","ぴゅ","ぴぇ","ぴょ"],type:"stretch",lengthValue:100,crossfade:!1},{consonant:"ng",cvs:["ng","ガ","グ","ゲ","ゴ"],type:"preutter",lengthValue:50,crossfade:!0},{consonant:"ngy",cvs:["ngy","ギャ","ギ","ギュ","ギェ","ギョ"],type:"preutter",lengthValue:40,crossfade:!0},{consonant:"v",cvs:["v","ヴぁ","ヴ","ヴぃ","ヴぇ","ヴぉ"],type:"preutter",lengthValue:100,crossfade:!0},{consonant:"・",cvs:["・あ","・い","・う","・え","・お","・ん"],type:"stretch",lengthValue:50,crossfade:!1}];class k extends l{name="phonemizer.RomajiJPAutoPhonemizer";romajiToHiraganaTable={a:"あ",i:"い",u:"う",e:"え",o:"お",ka:"か",ki:"き",ku:"く",ke:"け",ko:"こ",sa:"さ",si:"すぃ",shi:"し",su:"す",se:"せ",so:"そ",ta:"た",ti:"てぃ",tu:"とぅ",chi:"ち",tsu:"つ",te:"て",to:"と",na:"な",ni:"に",nu:"ぬ",ne:"ね",no:"の",ha:"は",hi:"ひ",hu:"ふ",fu:"ふ",he:"へ",ho:"ほ",ma:"ま",mi:"み",mu:"む",me:"め",mo:"も",ya:"や",yu:"ゆ",yo:"よ",ra:"ら",ri:"り",ru:"る",re:"れ",ro:"ろ",wa:"わ",wo:"を",n:"ん",ga:"が",gi:"ぎ",gu:"ぐ",ge:"げ",go:"ご",za:"ざ",ji:"じ",zu:"ず",ze:"ぜ",zo:"ぞ",da:"だ",di:"ぢ",du:"づ",de:"で",do:"ど",ba:"ば",bi:"び",bu:"ぶ",be:"べ",bo:"ぼ",pa:"ぱ",pi:"ぴ",pu:"ぷ",pe:"ぺ",po:"ぽ",kya:"きゃ",kyu:"きゅ",kye:"きぇ",kyo:"きょ",sha:"しゃ",shu:"しゅ",she:"しぇ",sho:"しょ",cha:"ちゃ",chu:"ちゅ",che:"ちぇ",cho:"ちょ",tya:"てゃ",tyu:"てゅ",tye:"てぇ",tyo:"てょ",nya:"にゃ",nyu:"にゅ",nye:"にぇ",nyo:"にょ",hya:"ひゃ",hyu:"ひゅ",hye:"ひぇ",hyo:"ひょ",mya:"みゃ",myu:"みゅ",mye:"みぇ",myo:"みょ",rya:"りゃ",ryu:"りゅ",rye:"りぇ",ryo:"りょ",kwa:"くゎ",kwi:"くぃ",kwe:"くぇ",kwo:"くぉ",gya:"ぎゃ",gyu:"ぎゅ",gye:"ぎぇ",gyo:"ぎょ",ja:"じゃ",ju:"じゅ",je:"じぇ",jo:"じょ",dya:"ぢゃ",dyu:"ぢゅ",dye:"ぢぇ",dyo:"ぢょ",bya:"びゃ",byu:"びゅ",bye:"びぇ",byo:"びょ",pya:"ぴゃ",pyu:"ぴゅ",pye:"ぴぇ",pyo:"ぴょ",gwa:"ぐゎ",gwi:"ぐぃ",gwe:"ぐぇ",gwo:"ぐぉ",va:"ヴぁ",vi:"ヴぃ",vu:"ヴ",ve:"ヴぇ",vo:"ヴぉ"};convertRomajiToHiragana(e){return this.romajiToHiraganaTable[e]||e}getOtoRecord(e,s,o,t,a,n=!1){const u=this.convertRomajiToHiragana(o);return super.getOtoRecord(e,s,u,t,a,n)}_getLastPhoneme(e,s){if(!e)return"-";const o=this.convertRomajiToHiragana(e.lyric),t=r.exec(o);return t?y.test(t[2])?"a":h.test(t[2])?"i":i.test(t[2])?"u":p.test(t[2])?"e":f.test(t[2])?"o":g.test(t[2])?"n":"-":"-"}getNextConsonant(e){if(!e)return null;const s=this.convertRomajiToHiragana(e.lyric);if(c.exec(s)||e.oto&&c.exec(e.oto.alias))return null;const t=r.exec(s);if(!t)return null;const a=t[2];for(const n of v)if(n.cvs.includes(a))return n;return null}}export{k as RomajiJPAutoPhonemizer};
