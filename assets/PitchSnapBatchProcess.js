import{B as i,u as c,i as l}from"./index.js";class m extends i{title="batchprocess.pitchSnapBatchProcess";summary="pitch:ピッチをスケールにスナップ";_process(u){const o=u.map(s=>s.deepCopy()),a=c.getState().tone,p=c.getState().isMinor;return o.forEach(s=>{if(s.lyric==="R"||s.pby===null||s.pby===void 0||s.pby.length===0)return;const e=s.pby.map(n=>Math.round(n/10)*10),f=e.map(n=>s.notenum+n/10).map((n,t)=>{if(e[t]===0||l(Math.round(n),a,p))return e[t];const r=(e[t]+240)%120/10;if(r===1)return e[t]+10;if(r===2)return e[t]-10;if(r===3)return e[t]+10;if(r===4)return e[t]-10;if(r===5)return e[t]+10;if(r===6)return e[t]-10;if(r===7)return e[t]-10;if(r===8)return e[t]+10;if(r===9)return e[t]-10;if(r===10)return e[t]+10;if(r===11)return e[t]-10});s.setPby(f)}),o}}export{m as PitchSnapBatchProcess};
