import{B as t}from"./index.js";const c=/^([^ぁ-んァ-ヶ]*)([ぁ-んァ-ヶ]+)([^ ]*)$/;class u extends t{title="batchprocess.removeSuffixBatchProcess.title";summary="lyric:歌詞末尾のサフィックスを一括削除";process(s,o){return super.process(s,o)}_process(s,o){const r=s.map(i=>i.deepCopy());return r.forEach(i=>{if(i.lyric!=="R"){if(o.prefixRemoveMode==="all"){const e=i.lyric.match(c);e&&(i.lyric=e[2]+e[3])}else if(o.prefixRemoveMode==="blank"){const e=i.lyric.indexOf(" ");e>=0&&(i.lyric=i.lyric.slice(e+1))}if(o.suffixRemoveMode==="all"){const e=i.lyric.match(c);e&&(i.lyric=e[1]+e[2])}else if(o.suffixRemoveMode==="underbar"){const e=i.lyric.indexOf("_");e>=0&&(i.lyric=i.lyric.slice(0,e))}else if(o.suffixRemoveMode==="number"){const e=i.lyric.match(c);if(e){const l=e[1],f=e[2],a=e[3].replace(/[0-9]/g,"");i.lyric=l+f+a}}}}),r}ui=[{key:"suffixRemoveMode",labelKey:"batchprocess.removeSuffixBatchProcess.suffixRemoveMode",inputType:"select",options:["all","underbar","number","none"],displayOptionKey:"batchprocess.removeSuffixBatchProcess.suffixRemoveModeOptions",defaultValue:"all"},{key:"prefixRemoveMode",labelKey:"batchprocess.removeSuffixBatchProcess.prefixRemoveMode",inputType:"select",options:["all","blank","none"],displayOptionKey:"batchprocess.removeSuffixBatchProcess.prefixRemoveModeOptions",defaultValue:"all"}];initialOptions={suffixRemoveMode:"all",prefixRemoveMode:"all"}}export{u as RemoveSuffixBatchProcess};
