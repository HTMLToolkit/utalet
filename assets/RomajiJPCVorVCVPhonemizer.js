import{J as R}from"./index.js";const f=/^([^ぁ-んァ-ヶ]*)([ぁ-んァ-ヶ]+)([^ ]*)$/,w=/[あかさたなはまやらわがざだばぱぁゃゎアカサタナハマヤラワガザダバパァャヮ]$/,V=/[いきしちにひみゐりぎじぢびぴぃイキシチニヒミヰリギジヂビピィ]$/,m=/[うくすつぬふむゆるぅゅぐずづぶぷウクスツヌフムユルゥグズヅブプヴゥュ]$/,k=/[えけせてねへめゑれぇげぜでべぺエケセテネヘメヱレェゲゼデベペ]$/,l=/[おこそとのほもよろをごぞどぼぽぉょオコソトノホモヨロヲゴゾドボポォョ]$/,p=/ん$/;class x extends R{name="phonemizer.RomajiJPCVorVCVPhonemizer";romajiToHiraganaTable={a:"あ",i:"い",u:"う",e:"え",o:"お",ka:"か",ki:"き",ku:"く",ke:"け",ko:"こ",sa:"さ",si:"すぃ",shi:"し",su:"す",se:"せ",so:"そ",ta:"た",ti:"てぃ",tu:"とぅ",chi:"ち",tsu:"つ",te:"て",to:"と",na:"な",ni:"に",nu:"ぬ",ne:"ね",no:"の",ha:"は",hi:"ひ",hu:"ふ",fu:"ふ",he:"へ",ho:"ほ",ma:"ま",mi:"み",mu:"む",me:"め",mo:"も",ya:"や",yu:"ゆ",yo:"よ",ra:"ら",ri:"り",ru:"る",re:"れ",ro:"ろ",wa:"わ",wo:"を",n:"ん",ga:"が",gi:"ぎ",gu:"ぐ",ge:"げ",go:"ご",za:"ざ",ji:"じ",zu:"ず",ze:"ぜ",zo:"ぞ",da:"だ",di:"ぢ",du:"づ",de:"で",do:"ど",ba:"ば",bi:"び",bu:"ぶ",be:"べ",bo:"ぼ",pa:"ぱ",pi:"ぴ",pu:"ぷ",pe:"ぺ",po:"ぽ",kya:"きゃ",kyu:"きゅ",kye:"きぇ",kyo:"きょ",sha:"しゃ",shu:"しゅ",she:"しぇ",sho:"しょ",cha:"ちゃ",chu:"ちゅ",che:"ちぇ",cho:"ちょ",tya:"てゃ",tyu:"てゅ",tye:"てぇ",tyo:"てょ",nya:"にゃ",nyu:"にゅ",nye:"にぇ",nyo:"にょ",hya:"ひゃ",hyu:"ひゅ",hye:"ひぇ",hyo:"ひょ",mya:"みゃ",myu:"みゅ",mye:"みぇ",myo:"みょ",rya:"りゃ",ryu:"りゅ",rye:"りぇ",ryo:"りょ",kwa:"くゎ",kwi:"くぃ",kwe:"くぇ",kwo:"くぉ",gya:"ぎゃ",gyu:"ぎゅ",gye:"ぎぇ",gyo:"ぎょ",ja:"じゃ",ju:"じゅ",je:"じぇ",jo:"じょ",dya:"ぢゃ",dyu:"ぢゅ",dye:"ぢぇ",dyo:"ぢょ",bya:"びゃ",byu:"びゅ",bye:"びぇ",byo:"びょ",pya:"ぴゃ",pyu:"ぴゅ",pye:"ぴぇ",pyo:"ぴょ",gwa:"ぐゎ",gwi:"ぐぃ",gwe:"ぐぇ",gwo:"ぐぉ",va:"ヴぁ",vi:"ヴぃ",vu:"ヴ",ve:"ヴぇ",vo:"ヴぉ"};convertRomajiToHiragana(t){return this.romajiToHiraganaTable[t]||t}_getLastPhoneme(t,n){if(!t)return"-";const u=this.convertRomajiToHiragana(t.lyric),e=f.exec(u);return e?w.test(e[2])?"a":V.test(e[2])?"i":m.test(e[2])?"u":k.test(e[2])?"e":l.test(e[2])?"o":p.test(e[2])?"n":"-":"-"}getOtoRecord(t,n,u,e,o){const a=this.convertRomajiToHiragana(u);if(a.includes("!"))return t.getOtoRecord(a.replace("!",""),e,o);const r=f.exec(a);if(!r)return t.getOtoRecord(a,e,o);const i=a.includes("?"),c=t.getOtoRecord((i?"?":"")+n+" "+r[2]+r[3],e,o);if(c)return c;const y=t.getOtoRecord((i?"?":"")+n+" "+r[2],e,o);if(y)return y;if(n!=="-"){const h=t.getOtoRecord((i?"?":"")+"* "+r[2]+r[3],e,o);if(h)return h;const d=t.getOtoRecord((i?"?":"")+"* "+r[2],e,o);if(d)return d}const s=t.getOtoRecord((i?"?":"")+r[2]+r[3],e,o);if(s||s)return s;const g=t.getOtoRecord((i?"?":"")+r[2],e,o);return g||t.getOtoRecord(a,e,o)}}export{x as RomajiJPCVorVCVPhonemizer};
